# SPDX-License-Identifier: LGPL-3.0-or-later
# Azure-specific cloud-netconfig configuration

logging:
  level: info
  format: json  # JSON for Azure Monitor
  timestamps: true

server:
  listen:
    address: 127.0.0.1
    port: 5209

metadata:
  refresh_interval: 300s
  request_timeout: 10s
  retry:
    enabled: true
    max_attempts: 3
    backoff: 5s

network:
  interfaces:
    enabled:
      - eth1
      - eth2

  routing:
    table_base: 9999
    policy_routing: true

  mtu:
    auto_configure: true

# Force Azure provider
cloud:
  auto_detect: false
  provider: azure
  azure:
    api_version: "2021-02-01"

security:
  user: cloud-network
  capabilities:
    - CAP_NET_ADMIN
  watchdog:
    enabled: true
    interval: 30s

state:
  directory: /run/cloud-network
  persist_metadata: true
  per_interface_files: true

features:
  network_events: true
  cleanup_stale: true
  health_check: true
